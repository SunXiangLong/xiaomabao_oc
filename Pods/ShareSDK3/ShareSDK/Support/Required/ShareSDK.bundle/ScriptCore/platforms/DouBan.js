var $pluginID = "com.mob.sharesdk.DouBan";eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([7-9a-cefhk-mo-qt-zA-Z]|[1-3]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('b B={"1a":"api_key","1b":"1n","1c":"1Y","1r":"covert_url"};h m(p){8.2l=p;8.v={"K":7,"L":7};8.1d=7;8.Q="S-T"}m.t.p=h(){x 8.2l};m.t.N=h(){a(8.Q=="S-T"){x"豆瓣"}l{x"m"}};m.t.Z=h(){a(8.v["L"]!=7&&8.v["L"][B.1a]!=7){x 8.v["L"][B.1a]}l a(8.v["K"]!=7&&8.v["K"][B.1a]!=7){x 8.v["K"][B.1a]}x 7};m.t.1n=h(){a(8.v["L"]!=7&&8.v["L"][B.1b]!=7){x 8.v["L"][B.1b]}l a(8.v["K"]!=7&&8.v["K"][B.1b]!=7){x 8.v["K"][B.1b]}x 7};m.t.1e=h(){a(8.v["L"]!=7&&8.v["L"][B.1c]!=7){x 8.v["L"][B.1c]}l a(8.v["K"]!=7&&8.v["K"][B.1c]!=7){x 8.v["K"][B.1c]}x 7};m.t.1Z=h(){x"2m-1o-"+$9.c.1s.m+"-"+8.Z()};m.t.20=h(){a(8.v["L"]!=7&&8.v["L"][B.1r]!=7){x 8.v["L"][B.1r]}l a(8.v["K"]!=7&&8.v["K"][B.1r]!=7){x 8.v["K"][B.1r]}x $9.c.20()};m.t.2n=h(11){a(2o.1f==0){x 8.v["K"]}l{8.v["K"]=8.21(11)}};m.t.2p=h(11){a(2o.1f==0){x 8.v["L"]}l{8.v["L"]=8.21(11)}};m.t.saveConfig=h(){b u=8;b 1g="2m-1o";$9.1h.2q("2r",1t,1g,h(e){a(e!=7){b 1u=e.11;a(1u==7){1u={}}1u["plat_"+u.p()]=u.Z();$9.1h.2s("2r",1u,1t,1g,7)}})};m.t.setCurrentLanguage=h(11){8.Q=11};m.t.isSupportAuth=h(){x 2t};m.t.authorize=h(I,22){b q=7;a(8.2u()){8.2v(I,22)}l{b k=7;a(8.Q=="S-T"){k="分享平台［"+8.N()+"］应用信息无效!"}l{k="1o［"+8.N()+"］23 congfiguration!"}q={"D":$9.c.J.InvaildPlatform,"k":k};$9.V.12(I,$9.c.y.E,q)}};m.t.handleAuthCallback=h(I,1p){b q=7;b u=8;b 1G=$9.O.parseUrl(1p);a(1G!=7&&1G.1H!=7){b A=$9.O.parseUrlParameters(1G.1H);a(A!=7){A["2w"]=8.Z();A["client_secret"]=8.1n();A["grant_type"]="authorization_code";A["1Y"]=8.1e();$9.1h.2x($9.c.1s.m,7,"1I://2y.1J.1K/2z/2A/24","1L",A,7,h(e){a(e!=7){a(e["D"]!=7){$9.V.12(I,$9.c.y.E,e)}l a(e["25"]!=7&&e["25"]==2B){b U=$9.O.2C($9.O.2D(e["2E"]));a(U.1i==7){u.2F(I,U)}l{q={"D":$9.c.J.13,"1M":U};$9.V.12(I,$9.c.y.E,q)}}l{q={"D":$9.c.J.13,"1M":e};$9.V.12(I,$9.c.y.E,q)}}l{q={"D":$9.c.J.13};$9.V.12(I,$9.c.y.E,q)}})}l{b k=7;a(8.Q=="S-T"){k="无效的授权回调:["+1p+"]"}l{k="2G f C:["+1p+"]"}q={"D":$9.c.J.2H,"k":k};$9.V.12(I,$9.c.y.E,q)}}l{b k=7;a(8.Q=="S-T"){k="无效的授权回调:["+1p+"]"}l{k="2G f C:["+1p+"]"}q={"D":$9.c.J.2H,"k":k};$9.V.12(I,$9.c.y.E,q)}};m.t.cancelAuthorize=h(){8.1N(7,7)};m.t.addFriend=h(I,o,f){b k=7;a(8.Q=="S-T"){k="平台［"+8.N()+"］不支持添加好友方法!"}l{k="1o［"+8.N()+"］do 1v 27 adding friends"}b q={"D":$9.c.J.28,"k":k};a(f!=7){f($9.c.y.E,q)}};m.t.getFriends=h(cursor,size,f){b k=7;a(8.Q=="S-T"){k="平台［"+8.N()+"不支持获取好友列表方法!"}l{k="1o［"+8.N()+"］do 1v 27 2I friend list"}b q={"D":$9.c.J.28,"k":k};a(f!=7){f($9.c.y.E,q)}};m.t.1O=h(I,F,f){b z=7;b C=7;b W=7;b 1w=7;b G=7;b M=7;b u=8;b 1P=F!=7?F["@1P"]:7;b 1j={"@1P":1P};b p=$9.c.R(8.p(),F,"p");a(p==7){p=$9.c.14.2J}a(p==$9.c.14.2J){p=8.2K(F)}b 1Q="1I://2L.1J.1K/shuo/v2/statuses/";b A=7;2N(p){X $9.c.14.2O:{z=$9.c.R(8.p(),F,"z");A={"z":z};8.1k(h(o){u.1R([z],h(e){A["z"]=e.15[0];u.1x(1Q,"1L",A,7,h(P,e){b w=e;a(P==$9.c.y.1l){a(e!=7){w={};w["1y"]=e;w["29"]=e["id"];w["z"]=e["z"]}}a(f!=7){f(P,w,o,1j)}})})});16}X $9.c.14.2P:{G=$9.c.R(8.p(),F,"G");a(2a.t.1T.2b(G)===\'[2c 2d]\'){M=G[0]}z=$9.c.R(8.p(),F,"z");a(M!=7){8.2Q(M,h(1z){b 1A="application/octet-stream";a(/\\.jpe?g$/.1q(1z)){1A="M/jpeg"}l a(/\\.2R$/.1q(1z)){1A="M/2R"}l a(/\\.2S$/.1q(1z)){1A="M/2S"}b 1B={"path":1z,"mime_type":1A};A={"M":"@1B("+$9.O.1U(1B)+")","z":z};u.1k(h(o){u.1R([z],h(e){A["z"]=e.15[0];u.1x(1Q,"1L",A,7,h(P,e){b w=e;a(P==$9.c.y.1l){a(e!=7){w={};w["1y"]=e;w["29"]=e["id"];w["z"]=e["z"];w["G"]=[];b Y=e["Y"];a(Y!=7){1C(b i=0;i<Y.1f;i++){b 17=Y[i]["18"];a(17!=7){1C(b j=0;j<17.1f;j++){b 18=17[j];a(18["p"]=="M"){w["G"].2T(18["2U"]);16}}}}}}}a(f!=7){f(P,w,o,1j)}})})})})}l{b k=7;a(8.Q=="S-T"){k="分享参数M不能为空!"}l{k="1O 2V M 2W 1v be 2Y!"}q={"D":$9.c.J.13,"k":k};a(f!=7){f($9.c.y.E,q,7,1j)}}16}X $9.c.14.2Z:C=$9.c.R(8.p(),F,"C");z=$9.c.R(8.p(),F,"z");W=$9.c.R(8.p(),F,"W");1w=$9.c.R(8.p(),F,"1w");M=$9.c.R(8.p(),F,"url_image");G=$9.c.R(8.p(),F,"G");a(2a.t.1T.2b(G)===\'[2c 2d]\'){1C(b i=0;i<G.1f;i++){a(!/^(1B\\:\\/)?\\//.1q(G[i])){M=G[i];16}}}a(W!=7&&C!=7){A={"z":z,"rec_title":W,"30":C,"31":1w,"rec_image":M};u.1k(h(o){u.1R([z,1w,C],h(e){A["z"]=e.15[0];A["31"]=e.15[1];A["30"]=e.15[2];u.1x(1Q,"1L",A,7,h(P,e){b w=e;a(P==$9.c.y.1l){a(e!=7){w={};w["1y"]=e;w["29"]=e["id"];w["z"]=e["z"];w["urls"]=[C];w["G"]=[];b Y=e["Y"];a(Y!=7){1C(b i=0;i<Y.1f;i++){b 17=Y[i]["18"];a(17!=7){1C(b j=0;j<17.1f;j++){b 18=17[j];a(18["p"]=="M"){w["G"].2T(18["2U"]);16}}}}}}}a(f!=7){f(P,w,o,1j)}})})})}l{b k=7;a(8.Q=="S-T"){k="分享参数C、W不能为空!"}l{k="1O 2V C or W 2W 1v be 2Y!"}q={"D":$9.c.J.13,"k":k};a(f!=7){f($9.c.y.E,q,7,1j)}}16;default:{b k=7;a(8.Q=="S-T"){k="不支持的分享类型["+p+"]"}l{k="unsupported 1O p ["+p+"]"}b q={"D":$9.c.J.UnsupportContentType,"k":k};a(f!=7){f($9.c.y.E,q,7,1j)}16}}};m.t.32=h(1H,f){b u=8;a(1H!=7){b k=7;a(8.Q=="S-T"){k="分享平台［"+u.N()+"］不支持获取其他用户资料!"}l{k="1o ["+u.N()+"］do 1v 27 2I other\'s userInfo!"}b q={"D":$9.c.J.28,"k":k};a(f!=7){f($9.c.y.E,q)}x}u.1k(h(o){u.1x("1I://2L.1J.1K/v2/o/~me","GET",7,7,h(P,e){b w=e;a(P==$9.c.y.1l){w={"2e":u.p()};u.2f(w,e);a(w["1V"]==o["1V"]){w["10"]=o["10"]}}a(f!=7){f(P,w)}})})};m.t.1x=h(C,33,A,1D,f){b q=7;b u=8;8.1k(h(o){a(o!=7){a(A==7){A={}}a(1D==7){1D={}}A["source"]=u.Z();a(o.10!=7){1D["34"]="Bearer "+o.10.24}$9.1h.2x($9.c.1s.m,7,C,33,A,1D,h(e){a(e!=7){a(e["D"]!=7){a(f){f($9.c.y.E,e)}}l{b U=$9.O.2C($9.O.2D(e["2E"]));a(e["25"]==2B){a(U["1i"]==7&&U["r"]==7){a(f){f($9.c.y.1l,U)}}l{b 1i=$9.c.J.13;2N(U["1i"]){X 102:X 103:X 106:X 118:X 119:X 123:X 124:1i=$9.c.J.35;16}q={"D":1i,"1M":U};a(f){f($9.c.y.E,q)}}}l{q={"D":$9.c.J.13,"1M":U};a(f){f($9.c.y.E,q)}}}}l{q={"D":$9.c.J.13};a(f){f($9.c.y.E,q)}}})}l{b k=7;a(8.Q=="S-T"){k="尚未授权["+u.N()+"]用户"}l{k="23 34 ["+u.N()+"]"}q={"D":$9.c.J.35,"k":k};a(f){f($9.c.y.E,q)}}})};m.t.createUserByRawData=h(H){b o={"2e":8.p()};8.2f(o,H);x $9.O.1U(o)};m.t.2Q=h(C,f){a(!/^(1B\\:\\/)?\\//.1q(C)){$9.1h.downloadFile(C,h(e){a(e.15!=7){a(f!=7){f(e.15)}}l{a(f!=7){f(7)}}})}l{a(f!=7){f(C)}}};m.t.1R=h(2g,f){a(8.20()){b u=8;8.1k(h(o){$9.c.convertUrl(u.p(),o,2g,f)})}l{a(f){f({"15":2g})}}};m.t.2K=h(F){b p=$9.c.14.2O;b C=$9.c.R(8.p(),F,"C");b W=$9.c.R(8.p(),F,"W");a(C!=7&&W!=7){p=$9.c.14.2Z}l{b G=$9.c.R(8.p(),F,"G");a(2a.t.1T.2b(G)===\'[2c 2d]\'){p=$9.c.14.2P}}x p};m.t.2f=h(o,H){a(o!=7&&H!=7){o["1y"]=H;o["1V"]=H["id"];o["nickname"]=H["N"];a(H["36"]!=7){o["2h"]=H["36"]}l a(H["37"]){o["2h"]=H["37"]}l a(H["38"]){o["2h"]=H["38"]}o["gender"]=2;o["C"]=H["alt"];a(H["1W"]!=7){b 1E=7;b 2i=/(\\d+)-(\\d+)-(\\d+) (\\d+):(\\d+):(\\d+)/;a(2i.1q(H["1W"])){b 1m=2i.exec(H["1W"]);1E=2j 1X(1m[1],1m[2]-1,1m[3],1m[4],1m[5],1m[6])}l{1E=2j 1X(H["1W"])}a(1E.1T()!="23 1X"){o["reg_at"]=1E.39()}}}};m.t.2v=h(I,22){b C="1I://2y.1J.1K/2z/2A/auth?2w="+8.Z()+"&response_type=1i&1Y="+$9.O.urlEncode(8.1e())+"&display=mobile";$9.V.ssdk_openAuthUrl(I,C,8.1e())};m.t.2F=h(I,1F){b u=8;b 10={"1V":1F["douban_user_id"],"24":1F["access_token"],"expired":(2j 1X().39()+1F["expires_in"]*1000),"1y":1F,"p":$9.c.credentialType.OAuth2};b o={"2e":$9.c.1s.m,"10":10};8.1N(o,h(){u.32(7,h(P,e){a(P==$9.c.y.1l){e["10"]=o["10"];o=e;u.1N(o,7)}$9.V.12(I,$9.c.y.1l,o)})})};m.t.1N=h(o,f){8.1d=o;b 1g=8.1Z();$9.1h.2s("3a",8.1d,1t,1g,h(e){a(f!=7){f()}})};m.t.1k=h(f){a(8.1d!=7){a(f){f(8.1d)}}l{b u=8;b 1g=8.1Z();$9.1h.2q("3a",1t,1g,h(e){u.1d=e!=7?e.11:7;a(f){f(u.1d)}})}};m.t.2u=h(){a(8.Z()!=7&&8.1n()!=7&&8.1e()!=7){x 2t}$9.V.log("#warning:["+8.N()+"]应用信息有误，不能进行相关操作。请检查本地代码中和服务端的["+8.N()+"]平台应用配置是否有误! \\n本地配置:"+$9.O.1U(8.2n())+"\\n服务器配置:"+$9.O.1U(8.2p()));x 1t};m.t.21=h(19){b Z=$9.O.2k(19[B.1a]);b 1n=$9.O.2k(19[B.1b]);b 1e=$9.O.2k(19[B.1c]);19[B.1a]=Z;19[B.1b]=1n;19[B.1c]=1e;x 19};$9.c.registerPlatformClass($9.c.1s.m,m);',[],197,'|||||||null|this|mob|if|var|shareSDK||data|callback||function|||error_message|else|DouBan||user|type|error|||prototype|self|_appInfo|resultData|return|responseState|text|params|DouBanAppInfoKeys|url|error_code|Fail|parameters|images|rawData|sessionId|errorCode|local|server|image|name|utils|state|_currentLanguage|getShareParam|zh|Hans|response|native|title|case|attachments|apiKey|credential|value|ssdk_authStateChanged|APIRequestFail|contentType|result|break|medias|media|appInfo|ApiKey|Secret|RedirectUri|_currentUser|redirectUri|length|domain|ext|code|userData|_getCurrentUser|Success|res|secret|Platform|callbackUrl|test|ConvertUrl|platformType|false|curApps|not|desc|callApi|raw_data|imageUrl|mimeType|file|for|headers|date|credentialRawData|urlInfo|query|https|douban|com|POST|user_data|_setCurrentUser|share|flags|requestUrl|_convertUrl||toString|objectToJsonString|uid|created|Date|redirect_uri|cacheDomain|convertUrlEnabled|_checkAppInfoAvailable|settings|Invalid|token|status_code||support|UnsupportFeature|cid|Object|apply|object|Array|platform_type|_updateUserInfo|contents|icon|exp|new|trim|_type|SSDK|localAppInfo|arguments|serverAppInfo|getCacheData|currentApp|setCacheData|true|_isAvailable|_webAuthorize|client_id|ssdk_callHTTPApi|www|service|auth2|200|jsonStringToObject|base64Decode|response_data|_succeedAuthorize|invalid|InvalidAuthCallback|getting|Auto|_getShareType|api||switch|Text|Image|_getImagePath|png|gif|push|src|param|can||nil|WebPage|rec_url|rec_desc|getUserInfo|method|Authorization|UserUnauth|large_avatar|avatar|small_avatar|getTime|currentUser'.split('|'),0,{}))