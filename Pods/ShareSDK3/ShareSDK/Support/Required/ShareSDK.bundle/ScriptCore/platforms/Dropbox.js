var $pluginID = "com.mob.sharesdk.Dropbox";eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([3-9a-fh-mo-rt-zA-Z]|[12]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('7 l={"N":"app_key","O":"app_secret","P":"oauth_callback","14":"covert_url"};9 c(w){3.1E=w;3.i={"r":4,"t":4};3._urlScheme=4;3.Q=4;3.A="E-F"}c.d.w=9(){m 3.1E};c.d.x=9(){m"c"};c.d.I=9(){5(3.i["t"]!=4&&3.i["t"][l.N]!=4){m 3.i["t"][l.N]}h 5(3.i["r"]!=4&&3.i["r"][l.N]!=4){m 3.i["r"][l.N]}m 4};c.d.15=9(){5(3.i["t"]!=4&&3.i["t"][l.O]!=4){m 3.i["t"][l.O]}h 5(3.i["r"]!=4&&3.i["r"][l.O]!=4){m 3.i["r"][l.O]}m 4};c.d.16=9(){5(3.i["t"]!=4&&3.i["t"][l.P]!=4){m 3.i["t"][l.P]}h 5(3.i["r"]!=4&&3.i["r"][l.P]!=4){m 3.i["r"][l.P]}m 4};c.d.1q=9(){m"1F-W-"+3.w()+"-"+3.I()};c.d.1G=9(){5(3.i["t"]!=4&&3.i["t"][l.14]!=4){m 3.i["t"][l.14]}h 5(3.i["r"]!=4&&3.i["r"][l.14]!=4){m 3.i["r"][l.14]}m $6.b.1G()};c.d.1H=9(J){5(1I.1b==0){m 3.i["r"]}h{3.i["r"]=3.1r(J)}};c.d.1J=9(J){5(1I.1b==0){m 3.i["t"]}h{3.i["t"]=3.1r(J)}};c.d.saveConfig=9(){7 k=3;7 R="1F-W";$6.S.1K("1L",X,R,9(j){5(j!=4){7 17=j.J;5(17==4){17={}}17["plat_"+k.w()]=k.I();$6.S.1M("1L",17,X,R,4)}})};c.d.setCurrentLanguage=9(J){3.A=J};c.d.isSupportAuth=9(){m 1N};c.d.1O=9(u,1s){7 e=4;5(3.1P()){3.1Q(u,1s)}h{7 8=4;5(3.A=="E-F"){8="分享平台［"+3.x()+"］应用信息无效!"}h{8="W［"+3.x()+"］1t congfiguration!"}e={"y":$6.b.z.InvaildPlatform,"8":8};$6.K.Y(u,$6.b.o.v,e)}};c.d.handleAuthCallback=9(u,Z){7 e=4;7 k=3;7 1c=$6.q.parseUrl(Z);5(1c!=4&&1c.1d!=4){7 B=$6.q.parseUrlParameters(1c.1d);5(B!=4&&B.10!=4){7 1R={"1S":3.I(),"client_secret":3.15(),"grant_type":"authorization_code","1T":3.16(),"10":B.10};$6.S.1U(3.w(),4,"1e://1V.1W.1f/1/1X/1g","POST",1R,4,9(j){5(j!=4){7 T=$6.q.1Y($6.q.1Z(j["20"]));5(T.e==4){k.21(u,T)}h{e={"y":$6.b.z.11,"22":T};$6.K.Y(u,$6.b.o.v,e)}}h{e={"y":$6.b.z.11};$6.K.Y(u,$6.b.o.v,e)}})}h{7 8=4;5(3.A=="E-F"){8="无效的授权回调:["+Z+"]"}h{8="1t a p:["+Z+"]"}e={"y":$6.b.z.23,"8":8};$6.K.Y(u,$6.b.o.v,e)}}h{7 8=4;5(3.A=="E-F"){8="无效的授权回调:["+Z+"]"}h{8="1t a p:["+Z+"]"}e={"y":$6.b.z.23,"8":8};$6.K.Y(u,$6.b.o.v,e)}};c.d.24=9(1d,a){7 k=3;3.1h(9(f){5(1d!=4){7 8=4;5(3.A=="E-F"){8="分享平台［"+k.x()+"］不支持获取其他用户资料!"}h{8="W ["+k.x()+"］do 1i 1v 25 other\'s userInfo!"}7 e={"y":$6.b.z.1w,"8":8};5(a!=4){a($6.b.o.v,e)}m}k.1x("1e://1V.26.1f/1/account/info","GET",4,4,9(H,j){7 C=j;5(H==$6.b.o.18){C={"1y":k.w()};k.1z(C,j);5(C["12"]==f["12"]){C["D"]=f["D"]}}5(a!=4){a(H,C)}})})};c.d.1x=9(p,27,B,1j,a){7 e=4;7 k=3;3.1h(9(f){5(f!=4){5(B==4){B={}}5(1j==4){1j={}}5(f.D!=4){B["1A"]=f.D.1g}$6.S.1U(k.w(),4,p,27,B,1j,9(j){5(j!=4){7 T=$6.q.1Y($6.q.1Z(j["20"]));5(j["status_code"]==200){5(a){a($6.b.o.18,T)}}h{7 10=$6.b.z.11;e={"y":10,"22":T};5(a){a($6.b.o.v,e)}}}h{e={"y":$6.b.z.11};5(a){a($6.b.o.v,e)}}})}h{7 8=4;5(3.A=="E-F"){8="尚未授权["+k.x()+"]用户"}h{8="28 Authorization ["+k.x()+"]"}e={"y":$6.b.z.UserUnauth,"8":8};5(a){a($6.b.o.v,e)}}})};c.d.cancelAuthorize=9(){3.1k(4,4)};c.d.addFriend=9(u,f,a){7 8=4;5(3.A=="E-F"){8="平台［"+3.x()+"］不支持添加好友方法!"}h{8="W［"+3.x()+"］do 1i 1v adding friends"}7 e={"y":$6.b.z.1w,"8":8};5(a!=4){a($6.b.o.v,e)}};c.d.getFriends=9(cursor,size,a){7 8=4;5(3.A=="E-F"){8="平台［"+3.x()+"不支持获取好友列表方法!"}h{8="W［"+3.x()+"］do 1i 1v 25 friend list"}7 e={"y":$6.b.z.1w,"8":8};5(a!=4){a($6.b.o.v,e)}};c.d.29=9(u,19,a){7 k=3;7 e=4;7 1l=19!=4?19["@1l"]:4;7 1m={"@1l":1l};7 G=4;7 13=$6.b.2a(3.w(),19,"13");5(13!=4&&2b.d.2c.2d(13)===\'[2e 2f]\'&&13.1b>0){G=13[0]}5(G==4){7 U=$6.b.2a(3.w(),19,"U");5(U!=4&&2b.d.2c.2d(U)===\'[2e 2f]\'&&U.1b>0){G=U[0]}}5(G!=4){3.2g(G,9(p){5(p!=4){7 1a="2h/2i-2j";5(/\\.jpe?g$/.1n(p)){1a="V/jpeg"}h 5(/\\.2k$/.1n(p)){1a="V/2k"}h 5(/\\.2l$/.1n(p)){1a="V/2l"}7 G={"path":p,"mime_type":1a};7 2m=$6.q.getFileName(p);7 B={"@body":"@G("+$6.q.1o(G)+")"};k.1h(9(f){7 1B="1e://content.26.1f/1/files_put/sandbox/"+2m+"?overwrite=X";5(f!=4&&f.D!=4){1B+="&1A="+$6.q.2n(f.D.1g)}k.1x(1B,"PUT",B,{"Content-Type":"2h/2i-2j"},9(H,j){7 C=j;5(H==$6.b.o.18){C={};C["1C"]=j;C["U"]=[p]}5(a!=4){a(H,C,f,1m)}})})}h{7 8=4;5(3.A=="E-F"){8="分享失败!V无效!"}h{8="Share v!28 V!"}e={"y":$6.b.z.11,"8":8};5(a!=4){a($6.b.o.v,e,4,1m)}}})}h{7 8=4;5(3.A=="E-F"){8="分享参数V不能为空!"}h{8="29 param V can 1i be nil!"}e={"y":$6.b.z.11,"8":8};5(a!=4){a($6.b.o.v,e,4,1m)}}};c.d.createUserByRawData=9(L){7 f={"1y":3.w()};3.1z(f,L);m $6.q.1o(f)};c.d.2g=9(p,a){5(!/^(G\\:\\/)?\\//.1n(p)){$6.S.downloadFile(p,9(j){5(j.2o!=4){5(a!=4){a(j.2o)}}h{5(a!=4){a(4)}}})}h{5(a!=4){a(p)}}};c.d.1z=9(f,L){5(f!=4&&L!=4){f["1C"]=L;f["12"]=L["12"];f["nickname"]=L["display_name"];f["gender"]=2;f["p"]=L["referral_link"]}};c.d.1h=9(a){5(3.Q!=4){5(a){a(3.Q)}}h{7 k=3;7 R=3.1q();$6.S.1K("2p",X,R,9(j){k.Q=j!=4?j.J:4;5(a){a(k.Q)}})}};c.d.21=9(u,1p){7 k=3;7 D={"12":1p["12"],"1g":1p["1A"],"expired":(2q 2r().2s()+946080000*1000),"1C":1p,"w":$6.b.credentialType.OAuth2};7 f={"1y":3.w(),"D":D};3.1k(f,9(){k.24(4,9(H,j){5(H==$6.b.o.18){j["D"]=f["D"];f=j;k.1k(f,4)}$6.K.Y(u,$6.b.o.18,f)})})};c.d.1k=9(f,a){3.Q=f;7 R=3.1q();$6.S.1M("2p",3.Q,X,R,9(j){5(a!=4){a()}})};c.d.1P=9(){5(3.I()!=4&&3.15()!=4&&3.16()!=4){m 1N}$6.K.log("#warning:["+3.x()+"]应用信息有误，不能进行相关操作。请检查本地代码中和服务端的["+3.x()+"]平台应用配置是否有误! \\n本地配置:"+$6.q.1o(3.1H())+"\\n服务器配置:"+$6.q.1o(3.1J()));m X};c.d.1Q=9(u,1s){7 2t="1e://www.1W.1f/1/1X/1O?1S="+3.I()+"&response_type=10&1T="+$6.q.2n(3.16())+"&H="+2q 2r().2s();$6.K.ssdk_openAuthUrl(u,2t,3.16())};c.d.1r=9(M){7 I=$6.q.1D(M[l.N]);7 15=$6.q.1D(M[l.O]);7 2u=$6.q.1D(M[l.P]);M[l.N]=I;M[l.O]=15;M[l.P]=2u;m M};$6.b.registerPlatformClass($6.b.platformType.c,c);',[],155,'|||this|null|if|mob|var|error_message|function|callback|shareSDK|Dropbox|prototype|error|user||else|_appInfo|data|self|DropboxAppInfoKeys|return||responseState|url|utils|local||server|sessionId|Fail|type|name|error_code|errorCode|_currentLanguage|params|resultData|credential|zh|Hans|file|state|appKey|value|native|rawData|appInfo|AppKey|AppSecret|OAuthCallback|_currentUser|domain|ext|response|images|image|Platform|false|ssdk_authStateChanged|callbackUrl|code|APIRequestFail|uid|attachments|ConvertUrl|appSecret|oauthCallback|curApps|Success|parameters|mimeType|length|urlInfo|query|https|com|token|_getCurrentUser|not|headers|_setCurrentUser|flags|userData|test|objectToJsonString|credentialRawData|cacheDomain|_checkAppInfoAvailable|settings|invalid||support|UnsupportFeature|callApi|platform_type|_updateUserInfo|access_token|requestUrl|raw_data|trim|_type|SSDK|convertUrlEnabled|localAppInfo|arguments|serverAppInfo|getCacheData|currentApp|setCacheData|true|authorize|_isAvailable|_webAuthorize|tokenParams|client_id|redirect_uri|ssdk_callHTTPApi|api|dropbox|oauth2|jsonStringToObject|base64Decode|response_data|_succeedAuthorize|user_data|InvalidAuthCallback|getUserInfo|getting|dropboxapi|method|Invalid|share|getShareParam|Object|toString|apply|object|Array|_getImagePath|application|octet|stream|png|gif|fileName|urlEncode|result|currentUser|new|Date|getTime|authUrl|redirectUri'.split('|'),0,{}))