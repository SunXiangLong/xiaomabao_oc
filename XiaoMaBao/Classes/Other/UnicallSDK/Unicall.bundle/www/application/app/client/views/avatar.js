(function(){

/////////////////////////////////////////////////////////////////////////
//                                                                     //
// client/views/avatar.js                                              //
//                                                                     //
/////////////////////////////////////////////////////////////////////////
                                                                       //
// Generated by CoffeeScript 1.10.0                                    //
(function () {                                                         // 2
  Template.avatar.helpers({                                            // 3
    imageUrl: function () {                                            // 4
      var ref, url, username;                                          // 5
      username = this.username;                                        // 6
      if (username == null && this.userId != null) {                   // 7
        username = (ref = Meteor.users.findOne(this.userId)) != null ? ref.username : void 0;
      }                                                                //
      if (username == null) {                                          // 10
        return;                                                        // 11
      }                                                                //
      var meteorUser = Meteor.user();                                  // 13
      if (meteorUser && meteorUser.username) {                         // 14
        if (meteorUser.username === username) {                        // 15
          Session.get("avatar_random_" + username);                    // 16
          url = getAvatarUrlFromUsername('F');                         // 17
          return "background-image:url(" + url + ");";                 // 18
        }                                                              //
      }                                                                //
      Session.get("avatar_random_" + username);                        // 21
      url = getAvatarUrlFromUsername(username);                        // 22
      return "background-image:url(" + url + ");";                     // 23
    },                                                                 //
    code: function () {                                                // 25
      var username = this.username;                                    // 26
      var meteorUser = Meteor.user();                                  // 27
      if (meteorUser && meteorUser.username) {                         // 28
        if (meteorUser.username === username) {                        // 29
          return "F";                                                  // 30
        }                                                              //
      }                                                                //
      return username.trim().substring(0, 2).trim().toUpperCase();     // 33
    },                                                                 //
    color: function () {                                               // 35
      var username = this.username;                                    // 36
      var meteorUser = Meteor.user();                                  // 37
      if (meteorUser && meteorUser.username) {                         // 38
        if (meteorUser.username === username) {                        // 39
          return "background-color:#673AB7;";                          // 40
        }                                                              //
      }                                                                //
      return "background-color:#673AB7;";                              // 43
    },                                                                 //
    avatarUrl: function () {                                           // 46
      var username = this.username;                                    // 47
      var meteorUser = Meteor.user();                                  // 48
      if (meteorUser && meteorUser.username) {                         // 49
        if (meteorUser.username === username) {                        // 50
          return new Tools().getPath() + 'packages/rocketchat_livechat/public/visitor_avatar.png';
        }                                                              //
      }                                                                //
      return new Tools().getPath() + 'packages/rocketchat_livechat/public/agent_avatar.png';
    }                                                                  //
  });                                                                  //
}).call(this);                                                         //
/////////////////////////////////////////////////////////////////////////

}).call(this);
