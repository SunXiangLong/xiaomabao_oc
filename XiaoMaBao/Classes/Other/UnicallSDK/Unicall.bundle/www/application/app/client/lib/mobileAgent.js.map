{"version":3,"sources":["meteor://üíªapp/client/lib/mobileAgent.js"],"names":[],"mappings":";;;;;;;;;;;AAGA,CAAC,YAAW;AACV,MAAG,MAAM,CAAC,SAAS,EAAC;AAClB,WAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;AACrC,QAAI,KAAK,GAAC,YAAU;AAClB,UAAI,IAAI,GAAC,IAAI,CAAC;AACd,UAAI,gBAAgB,GAAC,EAAE,CAAC;AACxB,UAAI,kBAAkB,GAAC,EAAE,CAAC;AAC1B,UAAI,iBAAiB,GAAC,EAAE,CAAC;AACzB,UAAI,qBAAqB,GAAC,EAAE,CAAC;AAC7B,UAAI,qBAAqB,GAAC,EAAE,CAAC;AAC7B,UAAI,CAAC,YAAY,GAAC,YAAU;;AAE1B,8BAAsB,EAAE,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;OACtD;AACD,UAAI,CAAC,YAAY,GAAC,UAAS,GAAG,EAAC;AAC7B,8BAAsB,EAAE,CAAC,WAAW,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC;OACpD;AACD,UAAI,CAAC,aAAa,GAAC,UAAS,IAAI,EAAC;;OAEhC;AACD,UAAI,CAAC,YAAY,GAAC,UAAS,IAAI,EAAC;;OAE/B;AACD,UAAI,CAAC,WAAW,GAAC,YAAU;AACzB,8BAAsB,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;OACrD;AACD,UAAI,CAAC,OAAO,GAAC,UAAS,GAAG,EAAC;AACxB,8BAAsB,EAAE,CAAC,WAAW,CAAC,SAAS,EAAC,GAAG,CAAC,CAAC;OACrD;AACD,UAAI,CAAC,+BAA+B,GAAC,UAAS,QAAQ,EAAC;AACrD,8BAAsB,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAC,QAAQ,CAAC,CAAC;AAC9D,wBAAgB,CAAC,gBAAgB,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;OACtD;AACD,UAAI,CAAC,2BAA2B,GAAC,UAAS,QAAQ,EAAC;AACjD,8BAAsB,EAAE,CAAC,gBAAgB,CAAC,WAAW,EAAC,QAAQ,CAAC,CAAC;AAChE,0BAAkB,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;OAC1D;;AAED,UAAI,CAAC,0BAA0B,GAAC,UAAS,QAAQ,EAAC;AAChD,8BAAsB,EAAE,CAAC,gBAAgB,CAAC,UAAU,EAAC,QAAQ,CAAC,CAAC;AAC/D,yBAAiB,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;OACxD;;AAED,UAAI,CAAC,8BAA8B,GAAC,UAAS,QAAQ,EAAC;AACpD,8BAAsB,EAAE,CAAC,gBAAgB,CAAC,cAAc,EAAC,QAAQ,CAAC,CAAC;AACnE,6BAAqB,CAAC,qBAAqB,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;OAChE;AACD,UAAI,CAAC,8BAA8B,GAAC,UAAS,QAAQ,EAAC;AACpD,8BAAsB,EAAE,CAAC,gBAAgB,CAAC,cAAc,EAAC,QAAQ,CAAC,CAAC;AACnE,6BAAqB,CAAC,qBAAqB,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC;OAChE;;AAED,UAAI,CAAC,gBAAgB,GAAC,UAAS,IAAI,EAAC,QAAQ,EAAC;AAC3C,8BAAsB,EAAE,CAAC,gBAAgB,CAAC,IAAI,EAAC,QAAQ,CAAC,CAAC;OAC1D;AACD,UAAI,CAAC,KAAK,GAAC,YAAU;AACnB,8BAAsB,EAAE,CAAC,iBAAiB,EAAE,CAAC;OAC9C;AACD,UAAI,CAAC,WAAW,GAAC,UAAS,IAAI,EAAC,GAAG,EAAC;AACjC,8BAAsB,EAAE,CAAC,WAAW,CAAC,IAAI,EAAC,GAAG,CAAC,CAAC;OAChD;AACD,UAAI,OAAO,GAAE,IAAI,CAAC;AAClB,UAAI,CAAC,wBAAwB,GAAC,UAAS,GAAG,EAAC;AACzC,eAAO,GAAG,GAAG,CAAC;OACf;AACD,UAAI,CAAC,0BAA0B,GAAC,YAAU;AACxC,YAAI,MAAM,GAAG,OAAO,CAAC;AACrB,eAAO,GAAG,IAAI,CAAC;AACf,eAAO,MAAM,CAAC;OACf;AACD,UAAI,QAAQ,GAAE,IAAI,CAAC;AACnB,UAAI,CAAC,mBAAmB,GAAC,UAAS,GAAG,EAAC;AACpC,gBAAQ,GAAG,GAAG,CAAC;OAChB;AACD,UAAI,CAAC,qBAAqB,GAAC,YAAU;AACnC,YAAI,MAAM,GAAG,QAAQ,CAAC;AACtB,gBAAQ,GAAG,IAAI,CAAC;AAChB,eAAO,MAAM,CAAC;OACf;AACD,UAAI,CAAC,IAAI,GAAC;AACR,mBAAW,EAAC,UAAS,OAAO,EAAC;AAC3B,eAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC5C,4BAAgB,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;WAC9B;SACF;AACD,qBAAa,EAAC,UAAS,SAAS,EAAC;AAC/B,eAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,kBAAkB,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC9C,8BAAkB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;WAClC;SACF;AACD,oBAAY,EAAC,UAAS,QAAQ,EAAC;AAC7B,eAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,iBAAiB,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7C,6BAAiB,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;WAChC;SACF;AACD,wBAAgB,EAAC,UAAS,YAAY,EAAC;AACrC,eAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,qBAAqB,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACjD,iCAAqB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;WACxC;SACF;AACD,wBAAgB,EAAC,YAAU;AACzB,eAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,qBAAqB,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACjD,iCAAqB,CAAC,CAAC,CAAC,EAAE,CAAC;WAC5B;SACF;OACF;KACF;AACD,QAAI,CAAC,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC;GAC/B,MAAI;AACH,WAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;GACpC;CACF,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,2D","file":"/client/lib/mobileAgent.js","sourcesContent":["/**\n * Created by lil on 16-4-22.\n */\n(function() {\n  if(Meteor.isCordova){\n    console.log(\"run in app of mobile.\");\n    var Agent=function(){\n      var self=this;\n      var appInfoCallbacks=[];\n      var appAccessCallbacks=[];\n      var userInfoCallbacks=[];\n      var userInterestCallbacks=[];\n      var toggleWindowCallbacks=[];\n      self.toggleWindow=function(){\n        //ÂàáÊç¢Á™óÂè£\n        getUnicallAppInfoAgent().sendMessage(\"toggleWindow\");\n      }\n      self.noticeNewMsg=function(msg){\n        getUnicallAppInfoAgent().sendMessage(\"newMsg\",msg);\n      }\n      self.receiveAWSUrl=function(data){\n        //No need to implements on mobile\n      }\n      self.imagePreview=function(data){\n        //No need to implements on mobile\n      }\n      self.closeWindow=function(){\n        getUnicallAppInfoAgent().sendMessage(\"closeWindow\");\n      }\n      self.signACK=function(msg){\n        getUnicallAppInfoAgent().sendMessage(\"signACK\",msg);\n      }\n      self.registerCallbackOnLivechatReady=function(callback){\n        getUnicallAppInfoAgent().addEventListener(\"appInfo\",callback);\n        appInfoCallbacks[appInfoCallbacks.length] = callback;\n      }\n      self.registerCallbackOnSignReady=function(callback){\n        getUnicallAppInfoAgent().addEventListener(\"appAccess\",callback);\n        appAccessCallbacks[appAccessCallbacks.length] = callback;\n      }\n      //register on view rendered\n      self.registerCallbackOnUserInfo=function(callback){\n        getUnicallAppInfoAgent().addEventListener(\"userInfo\",callback);\n        userInfoCallbacks[userInfoCallbacks.length] = callback;\n      }\n      //register on view rendered\n      self.registerCallbackOnUserInterest=function(callback){\n        getUnicallAppInfoAgent().addEventListener(\"userInterest\",callback);\n        userInterestCallbacks[userInterestCallbacks.length] = callback;\n      }\n      self.registerCallbackOnToggleWindow=function(callback){\n        getUnicallAppInfoAgent().addEventListener(\"toggleWindow\",callback);\n        toggleWindowCallbacks[toggleWindowCallbacks.length] = callback;\n      }\n      \n      self.addEventListener=function(type,callback){\n        getUnicallAppInfoAgent().addEventListener(type,callback);\n      }\n      self.ready=function(){\n        getUnicallAppInfoAgent().livechatLoadReady();\n      }\n      self.sendMessage=function(type,msg){\n        getUnicallAppInfoAgent().sendMessage(type,msg);\n      }\n      var message= null;\n      self.cacheUniqueSystemMessage=function(msg){\n        message = msg;\n      }\n      self.recoverUniqueSystemMessage=function(){\n        var result = message;\n        message = null;\n        return result;\n      }\n      var userInfo= null;\n      self.cacheUniqueUserInfo=function(msg){\n        userInfo = msg;\n      }\n      self.recoverUniqueUserInfo=function(){\n        var result = userInfo;\n        userInfo = null;\n        return result;\n      }\n      self.mock={\n        sendAppInfo:function(appInfo){\n          for(var i = 0;i < appInfoCallbacks.length;i++){\n            appInfoCallbacks[i](appInfo);\n          }\n        },\n        sendAppAccess:function(appAccess){\n          for(var i = 0;i < appAccessCallbacks.length;i++){\n            appAccessCallbacks[i](appAccess);\n          }\n        },\n        sendUserInfo:function(userInfo){\n          for(var i = 0;i < userInfoCallbacks.length;i++){\n            userInfoCallbacks[i](userInfo);\n          }\n        },\n        sendUserInterest:function(userInterest){\n          for(var i = 0;i < userInterestCallbacks.length;i++){\n            userInterestCallbacks[i](userInterest);\n          }\n        },\n        sendToggleWindow:function(){\n          for(var i = 0;i < toggleWindowCallbacks.length;i++){\n            toggleWindowCallbacks[i]();\n          }\n        }\n      }\n    }\n    this.outerAgent = new Agent();\n  }else{\n    console.log(\"run in web browser.\");\n  }\n}).call(this);\n"]}