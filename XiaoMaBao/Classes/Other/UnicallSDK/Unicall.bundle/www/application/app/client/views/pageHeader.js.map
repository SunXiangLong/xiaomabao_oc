{"version":3,"sources":["meteor://üíªapp/client/views/pageHeader.js"],"names":[],"mappings":";;;;;;;;;;;AAGA,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC;AAC1B,SAAO,EAAC,YAAU;AAChB,WAAO,MAAM,CAAC,QAAQ,UAAO,CAAC,wBAAwB,CAAC,eAAe,CAAC;GACxE;AACD,WAAS,EAAC,YAAU;AAClB,WAAO,MAAM,CAAC,QAAQ,UAAO,CAAC,wBAAwB,CAAC,SAAS,CAAC;GAClE;CACF,CAAC;;AAEF,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;AACzB,qBAAmB,EAAC,UAAS,KAAK,EAAC;AACjC,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAI,OAAO,GAAG,UAAU,CAAC,OAAO,EAAE,CAAC;AACnC,QAAG,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,QAAQ,EAAC;AAChC,aAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;KAChB,MAAI;AACH,gBAAU,CAAC,YAAY,EAAE,CAAC;KAC3B;GACF;AACD,oBAAkB,EAAC,UAAS,KAAK,EAAC;AAChC,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAI,OAAO,GAAG,UAAU,CAAC,OAAO,EAAE,CAAC;;AAEnC,QAAG,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,EAAE,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,EAAC;AACjF,gBAAU,CAAC,EAAE,CAAC,uBAAuB,CAAC,CAAC;KACxC,MAAK,IAAG,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,QAAQ,EAAC;AACtC,aAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;AACjC,gBAAU,CAAC,WAAW,EAAE,CAAC;KAC1B,MACG;AACF,aAAO,CAAC,gBAAgB,EAAE,CAAC;AAC3B,aAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;AACjC,gBAAU,CAAC,WAAW,EAAE,CAAC;KAC1B;GACF;CACF,CAAC,uE","file":"/client/views/pageHeader.js","sourcesContent":["/**\n * Created by Junwei on 16/4/25.\n */\nTemplate.pageHeader.helpers({\n  bgColor:function(){\n    return Meteor.settings.public.tenant_livechat_settings.backgroundColor;\n  },\n  fontColor:function(){\n    return Meteor.settings.public.tenant_livechat_settings.fontColor;\n  }\n})\n\nTemplate.pageHeader.events({\n  'click .btn-return':function(event){\n    event.preventDefault();\n    var current = FlowRouter.current();\n    if(current.route.name == 'rating'){\n      history.go(-1);\n    }else{\n      outerAgent.toggleWindow();\n    }\n  },\n  'click .btn-close':function(event){\n    event.preventDefault();\n    var current = FlowRouter.current();\n    //ËÅäÂ§©‰∏≠,ÂÖ≥Èó≠ÂéªÂà∞ËØÑ‰ª∑.\n    if(current.route.name == 'index' && visitor.getRoom() && Session.get(\"hasSendMsg\")){\n      FlowRouter.go('/rating?close=visitor');\n    }else if(current.route.name == 'rating'){\n      Session.set(\"hasSendMsg\", false);\n      outerAgent.closeWindow();\n    }\n    else{\n      visitor.ticketOrLivechat();\n      Session.set(\"hasSendMsg\", false);\n      outerAgent.closeWindow();\n    }\n  }\n})\n"]}