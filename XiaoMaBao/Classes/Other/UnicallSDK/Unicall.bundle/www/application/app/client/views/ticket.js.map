{"version":3,"sources":["meteor://ðŸ’»app/client/views/ticket.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC;AACtB,SAAO,EAAC,YAAU;AAChB,QAAG,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAC;AAC/B,aAAO,MAAM,CAAC;KACf;GACF;AACD,SAAO,EAAC,YAAU;AAChB,WAAO,MAAM,CAAC,QAAQ,UAAO,CAAC,wBAAwB,CAAC,WAAW,CAAC;GACpE;CACF,CAAC;AACF,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;AACrB,uBAAqB,EAAC,UAAS,KAAK,EAAC;AACnC,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AAC1B,QAAG,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,EAAC;AAC/B,aAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,IAAI,CAAC,CAAC;KACpC,MAAI;AACH,aAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,KAAK,CAAC,CAAC;AACpC,UAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,UAAO,CAAC,wBAAwB,CAAC,QAAQ,IAAI,EAAE,CAAC;AAC9E,UAAI,IAAI,GAAG;AACT,gBAAQ,EAAC,QAAQ;AACjB,eAAO,EAAC,MAAM,CAAC,QAAQ,CAAC,KAAK;AAC7B,YAAI,EAAC,MAAM,CAAC,IAAI,CAAC,KAAK;AACtB,aAAK,EAAC,MAAM,CAAC,KAAK,CAAC,KAAK;AACxB,cAAM,EAAC,MAAM,CAAC,QAAQ,UAAO,CAAC,wBAAwB,CAAC,MAAM;AAC7D,eAAO,EAAC,MAAM,CAAC,QAAQ,UAAO,CAAC,wBAAwB,CAAC,OAAO;AAC/D,iBAAS,EAAC,KAAK;AACf,cAAM,EAAC,EAAE;OACV;AACD,YAAM,CAAC,IAAI,CAAC,oBAAoB,EAAC,IAAI,EAAC,UAAS,KAAK,EAAC,MAAM,EAAE;AAC3D,kBAAU,CAAC,EAAE,CAAC,QAAQ,EAAC,EAAC,IAAI,EAAC,QAAQ,EAAC,EAAC,EAAC,MAAM,EAAC,MAAM,EAAC,CAAC,CAAC;OACzD,CAAC,CAAC;KACJ;GACF;CACF,CAAC,uE","file":"/client/views/ticket.js","sourcesContent":["Template.ticket.helpers({\n  isValid:function(){\n    if(Session.get('ticket_invalid')){\n      return 'show';\n    }\n  },\n  'title':function(){\n    return Meteor.settings.public.tenant_livechat_settings.ticketTitle;\n  }\n})\nTemplate.ticket.events({\n  \"submit .ticket-form\":function(event){\n    event.preventDefault();\n    var target = event.target;\n    if(!event.target.checkValidity()){\n      Session.set('ticket_invalid',true);\n    }else{\n      Session.set('ticket_invalid',false);\n      var tenantId = Meteor.settings.public.tenant_livechat_settings.tenantId || '';\n      var data = {\n        tenantId:tenantId,\n        content:target.messages.value,\n        name:target.name.value,\n        phone:target.phone.value,\n        appKey:Meteor.settings.public.tenant_livechat_settings.appKey,\n        appName:Meteor.settings.public.tenant_livechat_settings.appName,\n        apiSource:'ios',\n        source:''\n      }\n      Meteor.call(\"sendMessageToEmail\",data,function(error,result) {\n        FlowRouter.go('result',{type:'ticket'},{status:result});\n      });\n    }\n  }\n})\n\n"]}