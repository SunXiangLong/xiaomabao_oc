{"version":3,"sources":["meteor://üíªapp/client/lib/csvControler.js"],"names":[],"mappings":";;;;;;;;;;;;;AAKA,CAAC,YAAY;AACX,MAAI,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY;AACpC,aAAS,MAAM,GAAG,EACjB;;AAED,QAAI,OAAO,GAAG,UAAU,GAAG,EAAE;AAC3B,aAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;AACnC,aAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;;AAElC,UAAI,MAAM,CAAC,SAAS,EAAE;;AAEpB,YAAI,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,SAAS,EAAE;AACzC,iBAAO,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;AAClC,oBAAU,CAAC,EAAE,CAAC,qBAAqB,CAAC,CAAC;SACtC;OACF,MAAM;AACL,YAAI,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,SAAS,EAAE;AACzC,iBAAO,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;AAClC,WAAC,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AACrC,WAAC,CAAC,gBAAgB,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;AACzE,iBAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;SACpC;OACF;KACF;AACD,QAAI,MAAM,GAAG,UAAU,GAAG,EAAE;AAC1B,kBAAY,CAAC,EAAE,CAAC,GAAG,GAAG,OAAO,EAAE,OAAO,CAAC,CAAC;KACzC;AACD,QAAI,aAAa,GAAG,UAAU,MAAM,EAAE;AACpC,kBAAY,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,OAAO,EAAE,OAAO,CAAC,CAAC;AAClE,aAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACxB,kBAAY,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,OAAO,EAAE,OAAO,CAAC,CAAC;KACvD;;AAED,UAAM,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;;AAEjC,UAAM,CAAC,SAAS,CAAC,aAAa,GAAG,aAAa,CAAC;;AAE/C,WAAO,MAAM,CAAC;GAEf,IAAG,EAAC,CAAC;CAEP,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,2D","file":"/client/lib/csvControler.js","sourcesContent":["/**\n * Created by lil on 16-2-24.\n */\n// Generated by CoffeeScript 1.10.0\n//ÂÆö‰πâvisitor\n(function () {\n  this.csvControler = new ((function () {\n    function _Class() {\n    }\n\n    var showCSV = function (rid) {\n      console.log(\"hide your room\", rid);\n      Session.set(\"roomHasHided\", true);\n      //appË∑≥ËΩ¨\n      if (Meteor.isCordova) {\n        //Ëß£ÂÜ≥ËÆøÂÆ¢ÁªìÊùüÂêéÂ≠ó‰ºöÈó™ÁöÑÈóÆÈ¢ò\n        if (Session.get(\"whoEndMsg\") != 'visitor') {\n          Session.set(\"whoEndMsg\", \"agent\");\n          FlowRouter.go('/rating?close=agent');\n        }\n      } else {\n        if (Session.get(\"whoEndMsg\") != 'visitor') {\n          Session.set(\"whoEndMsg\", \"agent\");\n          $(\".xCover\").css(\"display\", \"block\");\n          $(\".survey-submit\").removeClass(\"agent-survey\").addClass(\"agent-survey\");\n          Session.set(\"agent-closing\", true);\n        }\n      }\n    }\n    var listen = function (key) {\n      notifyStream.on(key + \"/hide\", showCSV);\n    }\n    var onRoomChanged = function (newRid) {\n      notifyStream.removeListener(visitor.getRoom() + \"/hide\", showCSV);\n      visitor.setRoom(newRid);\n      notifyStream.on(visitor.getRoom() + \"/hide\", showCSV);\n    }\n\n    _Class.prototype.listen = listen;\n\n    _Class.prototype.onRoomChanged = onRoomChanged;\n\n    return _Class;\n\n  })());\n\n}).call(this);\n"]}